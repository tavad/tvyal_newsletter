---
title: "Tvyal Newsletter"
author: "Aghasi Tavadyan"
date: "2024-02-09"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(scales)
library(readxl)
library(RcppRoll)


# library(extrafont)
# font_import(pattern = "DejaVu Serif")  # or another font with Armenian support
# loadfonts()
# par(family = "DejaVu Serif") 

rm(list = ls()); gc()

theme_tvyal <- function(base_size = 12, base_family = "sans")
{
  colors <- deframe(ggthemes::ggthemes_data[["fivethirtyeight"]])
  (ggthemes::theme_foundation(
    base_size = base_size, base_family = base_family) +
      theme(
        line = element_line(colour = "black"),
        rect = element_rect(fill = "white", linetype = 0, colour = NA),
        text = element_text(colour = colors["Dark Gray"]),
        # axis.title = element_blank(),
        # axis.text = element_text(),
        axis.ticks = element_blank(),
        axis.line = element_blank(),
        legend.background = element_rect(),
        legend.position = "bottom",
        legend.direction = "horizontal",
        legend.box = "vertical",
        panel.grid = element_line(colour = NULL),
        panel.grid.major.x = element_blank(),
        panel.grid.major.y = element_line(colour = colors["Medium Gray"]),
        panel.grid.minor = element_blank(),
        plot.title = element_text(hjust = 0, size = rel(1.5), face = "bold"),
        plot.margin = unit(c(1, 1, 1, 1), "lines"), strip.background = element_rect()
      )
  )
}

theme_set(theme_tvyal())

save_last_plot <-
  function(filename, extension = "png", width = 1344, height = 756) {

    filename <- str_replace_all(filename, " ", "_")
    last_plot <- recordPlot()

    if (extension == "png") {
      png(paste0(filename, ".", extension), width = width, height = height)
    } else if (extension == "pdf") {
      pdf(paste0(filename, ".", extension), width = width, height = height)
    } else {
      stop("Unsupported file extension. Use 'png' or 'pdf'.")
    }

    replayPlot(last_plot)
    dev.off()
    paste0(filename, ".", extension)
  }

new_palette_colors <- c(
  "#003f5c", "#2f4b7c", "#665191", "#a05195",
  "#d45087", "#f95d6a", "#ff7c43", "#ffa600"
)
colfunc <- colorRampPalette(c("#2f4b7c", "#fffcf5", "#f95d6a"))
colfunc2 <- colorRampPalette(new_palette_colors)
colfunc3 <- colorRampPalette(c(new_palette_colors, "#FFD17A", "#FFFCF5"))

update_geom_defaults("rect", list(fill  = new_palette_colors[2], alpha = 0.8))
update_geom_defaults("line", list(color = new_palette_colors[2], alpha = 0.8))
update_geom_defaults("area", list(fill  = new_palette_colors[2], alpha = 0.8))

caption_arm <-  "’Ä’•’≤’´’∂’°’Ø` ‘±’≤’°’Ω’´ ‘π’°’æ’°’§’µ’°’∂   |   tvyal.com   |   tavadyan.com"
caption_eng <-  "Author: Aghasi Tavadyan   |   tvyal.com   |   tavadyan.com"

doParallel::registerDoParallel(cores = 8)

setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
```


```{r get raw data download, include=FALSE}

wages_raw <- 
  read_excel("wages_in_armenia_raw_2022.xlsx", skip = 2)

# run the code below to update CPI data
system(
  paste0(
    "curl \"", "https://www.cba.am/stat/stat_data_eng/6_CPI_eng.xls", "\"",
    " -o ", "\"cpi_armenia_eng.xls\""
  )
)

inflation_raw <- read_excel("cpi_armenia_eng.xls", skip = 3)

workers_n <- read_excel("wages_more_info.xlsx", sheet = "workers_n")

inflation_raw |> 
  rename(date = 1, cpi_m = 2) |> 
  transmute(
    date = ym(date), 
    cpi_m = cpi_m/100,
    cpi_yoy = roll_prodr(cpi_m, 12)
  ) |> 
  view()


```

```{r data cleaning, include=FALSE}

max_year <- wages_raw |> colnames() |> parse_number() |> max(na.rm = TRUE)

inf_cumprod <- 
  inflation_raw |> 
  rename(date = 1, cpi_m = 2) |> 
  select(date, cpi_m) |> 
  mutate(
    date = ym(date),
    cpi_m = cpi_m / 100,
    year = year(date)
  ) |> 
  filter(year <= max_year) |>
  mutate(
    cpi_yoy = roll_prodr(cpi_m, 12)
  ) |>
  arrange(desc(date)) |> 
  mutate(
    adj_price = cumprod(cpi_m),
    adj_price = lag(adj_price),
    adj_price = ifelse(is.na(adj_price), 1, adj_price)
  ) |> 
  group_by(year) |> 
  filter(date == max(date)) |> 
  ungroup() |> 
  select(year, cpi_yoy, adj_price)


wages_clean <- 
  wages_raw |>
  filter(!is.na(`2020`))  |>  
  janitor::clean_names() |> 
  mutate(
    across(matches("\\d{4}"), ~ifelse(.x == "-", NA, .x)),
    across(matches("\\d{4}"), ~ as.numeric(.x))
  ) |> 
  mutate(
    indicator_arm = str_replace(indicator_arm, "’°’∑’≠’°’ø’°’æ’°÷Ä’±, ’§÷Ä’°’¥", "’°’∑’≠’°’ø’°’æ’°÷Ä’± ’Ä’Ä ’®’∂’§’∞’°’∂’∏÷Ç÷Ä, ’§÷Ä’°’¥"),
    indicator_arm = str_remove(indicator_arm, "’Ñ’´’ª’´’∂ ’°’¥’Ω’°’Ø’°’∂ ’°’∂’æ’°’∂’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’®? ? ?-? ?\\(?"),
    indicator_arm = str_remove(indicator_arm, ", ’§÷Ä’°’¥$"),
    indicator_arm = str_replace_all(indicator_arm, " *- *", " - "),
    
    indicator_eng = str_remove(indicator_eng, "Average monthly nominal wages? ? ?-? ?\\(? ?b?y? ?"),
    indicator_eng = str_replace_all(indicator_eng, " *- *", " - "),
  ) |> 
  extract(
    indicator_arm, into = c("ind1_arm", "ind2_arm"),
    regex = "(’®’Ω’ø .*) - (.*)", remove = FALSE
  ) |> 
  extract(
    indicator_eng, into = c("ind1_eng", "ind2_eng"),
    regex = "(.*) - (.*)", remove = FALSE
  ) |> 
  # extract(ind1_arm, into = c("ind1", "ind2"),
  #         regex = "(’®’Ω’ø .*) *- *(.*)", remove = FALSE) |> 
  # mutate(
  #   ind1 = ifelse(is.na(ind1), ind1_arm, ind1),
  #   
  # ) |> view()
  mutate(
    correction_2017 = x2017_2 / x2017,
    correction_2012 = x2012_2 / x2012,
  ) |> 
  select(-c(x2017_2, x2012_2)) |>
  pivot_longer( 
    cols = matches("^x\\d{4}$"),
    names_to = "year", values_to = "wages"
  ) |> 
  mutate(
    across(contains("ind"), ~str_trim(.x)),
    year = parse_number(year),
    wages_corrected = case_when(
      year <= 2012 & !is.na(correction_2017) ~ correction_2012 * correction_2017 * wages,
      year <= 2017 & year > 2012 & !is.na(correction_2017) ~ correction_2017 * wages,
      TRUE ~ wages
    )
  ) |> 
  left_join(inf_cumprod, by = "year") |> 
  mutate(wages_real = wages_corrected * adj_price) |> 
  select(-contains("correction"))


wages_clean |> write_excel_csv("wages_in_armenia_clean_2022.csv")

rm(wages_raw, inflation_row)

```


```{r plot 1, include=FALSE}

wages_clean |> 
  filter(grepl("RA Marzes and Yerevan", indicator_eng)) |> 
  mutate(
    ind1_arm = case_when(
      grepl("’∏’π ’∫’•’ø’°’Ø’°’∂", ind1_arm) ~ "’∏’π ’∫’•’ø’°’Ø’°’∂",
      grepl("’∫’•’ø’°’Ø’°’∂", ind1_arm) ~ "’∫’•’ø’°’Ø’°’∂",
      TRUE ~ "’®’∂’§’∞’°’∂’∏÷Ç÷Ä"
    ),
    ind1_eng = case_when(
      grepl("Non - Public", ind1_eng) ~ "Non-Public",
      grepl("Public", ind1_eng) ~ "Public",
      TRUE ~ "Total"
    ),
    ind2_eng = fct_relevel(ind2_eng, "Yerevan"),
    ind2_arm = fct_relevel(ind2_arm, "÷Ñ. ‘µ÷Ä÷á’°’∂")
  ) |> 
  ggplot(aes(year, wages_real / 1000, fill = year)) +
  geom_col() +
  facet_grid(ind1_eng ~ ind2_eng) +
  scale_y_continuous(breaks = seq(0, 1000, 100), labels = comma_format()) +
  scale_x_continuous(labels = NULL, breaks = NULL) +
  scale_fill_gradient(breaks = 2008:2020,  high = "#2f4b7c", low = "#f95d6a") +
  labs(
    x = NULL,
    y = NULL,
    title = "‘±’¥’Ω’°’Ø’°’∂ ’´÷Ä’°’Ø’°’∂ ’¥’´’ª’´’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’® ’®’Ω’ø ’¥’°÷Ä’¶’•÷Ä’´ ’Ä’°’µ’°’Ω’ø’°’∂’∏÷Ç’¥",
    subtitle = "’∞’°’¶’°÷Ä ’§÷Ä’°’¥, ’£’∂’°’≥’∏’æ ’≥’∑’£÷Ä’ø’æ’°’Æ"
  ) +
  theme(
    legend.position = "bottom",
    legend.key.width = unit(2.5, 'cm'),
    legend.box = 
  )

```


```{r main 2, include=FALSE}

 # provide 2 consecutive years that are in wages_clean
years_select = c(max_year - 1, max_year) 

date_legend <- 
  tibble(
    x = 215, y = c(1.5, 2.5), 
    color = c("#2f4b7c", "#f95d6a"), 
    text = rev(years_select),
    ind1_arm = "’∫’•’ø’°’Ø’°’∂",
    ind1_eng = "Public"
  )


wages_change_2021_22_plot <- 
  wages_clean |> 
  filter(grepl("RA Marzes and Yerevan", indicator_eng)) |> 
  mutate(
    ind1_arm = case_when(
      grepl("’∏’π ’∫’•’ø’°’Ø’°’∂", ind1_arm) ~ "’∏’π ’∫’•’ø’°’Ø’°’∂",
      grepl("’∫’•’ø’°’Ø’°’∂", ind1_arm) ~ "’∫’•’ø’°’Ø’°’∂",
      TRUE ~ "’®’∂’§’∞’°’∂’∏÷Ç÷Ä"
    ),
    ind1_eng = case_when(
      grepl("Non - Public", ind1_eng) ~ "Non-Public",
      grepl("Public", ind1_eng) ~ "Public",
      TRUE ~ "Total"
    ),
    # ind2_eng = fct_relevel(ind2_eng, "Yerevan"),
    # ind2_arm = fct_relevel(ind2_arm, "÷Ñ. ‘µ÷Ä÷á’°’∂")
  ) |> 
  filter(year %in% years_select) |> 
  select(ind1_arm, ind2_arm, ind1_eng, ind2_eng, year, wages_real) |> 
  mutate(
    wages_real = wages_real / 1000,
    year = ifelse(year == min(year), "begining", "end")
  ) |> 
  rename(marz_arm = ind2_arm, marz_eng = ind2_eng) |> 
  pivot_wider(names_from = year, values_from = wages_real) |> 
  mutate(
    marz_arm = fct_reorder(marz_arm, (begining + end)/2, .fun = mean),
    marz_eng = fct_reorder(marz_eng, (begining + end)/2, .fun = mean),
    color = ifelse(begining > end, "#f95d6a", "#2f4b7c"),
    ind1_eng = factor(ind1_eng, levels = c("Total", "Non-Public", "Public"))
  ) |> 
  ggplot() +
  facet_grid(~ind1_eng, scales = "free_x", space = "free_x") +
  geom_segment(
    aes(x = begining, xend = end,  y = marz_eng, 
        yend = marz_eng, group = ind1_eng, color = I(color)),
    linewidth = 1.2,
    lineend = "round", linejoin = "round",
    arrow = arrow(length = unit(0.1, "inches"))
  ) +
  geom_point(aes(x=begining, y=marz_eng, color=I("#f95d6a")), size = 3) +
  geom_point(aes(x=end, y=marz_eng, color=I("#2f4b7c")), size = 3) +
  geom_point(data = date_legend, aes(x, y, color = I(color)), size = 3) +
  geom_text(data = date_legend, aes(x + 15, y, label = text)) +
  scale_y_discrete() +
  labs(
    x = NULL,
    y = NULL,
    color = NULL,
    # title = "’Ñ’´’ª’´’∂ ’°’¥’Ω’°’Ø’°’∂ ’°’∂’æ’°’∂’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’® ’®’Ω’ø ’¥’°÷Ä’¶’•÷Ä’´ ÷á ’ø’∂’ø’•’Ω’∏÷Ç’©’µ’°’∂ ’∞’°’ø’æ’°’Æ’∂’•÷Ä’´",
    # subtitle = "’Ü’•÷Ä’Ø’°’µ’°÷Å’æ’°’Æ ’•’∂ ’´÷Ä’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’•÷Ä’®, 2022 ’©’æ’°’Ø’°’∂’´ 8.3 ’ø’∏’Ø’∏’Ω ’£’∂’°’≥’∏’æ ’≥’∑’£÷Ä’ø’æ’°’Æ\n’∞’°’¶’°÷Ä ’Ä’Ä ’§÷Ä’°’¥",
    # caption = paste0(caption_arm, "    |    ’ø’æ’µ’°’¨’∂’•÷Ä’´ ’°’≤’¢’µ’∏÷Ç÷Ä` armstat.am")
    title = "Average monthly salary by regions and sectors of the economy",
    subtitle = "Real nominal salaries, thousand AMD, 2021 is adjusted by 8.3% inflation in 2022",
    caption = paste0(caption_eng, "    |    Data Source: armstat.am")
  )


```


```{r plots 3,  include=FALSE}

wages_by_sector <- 
  wages_clean |> 
  filter(grepl("Types of Economic Activity", indicator_eng)) |>
  mutate(
    ind2_arm = str_trunc(ind2_arm, 30),
    ind2_eng = str_trunc(ind2_eng, 30)
  ) |> 
  filter(year %in% years_select) |> 
  select(ind1_arm, ind2_arm, ind1_eng, ind2_eng, year, wages_real) |> 
  mutate(
    wages_real = wages_real / 1000,
    year = ifelse(year == min(year), "begining", "end")
  ) |> 
  pivot_wider(names_from = year, values_from = wages_real) |> 
  mutate(
    ind2_arm = fct_reorder(ind2_arm, (begining + end)/2, .fun = mean),
    ind2_eng = fct_reorder(ind2_eng, (begining + end)/2, .fun = mean),
    color = ifelse(begining > end, "#f95d6a", "#2f4b7c")
  ) |> 
  ggplot() +
  geom_segment(
    aes(x = begining, xend = end,  y = ind2_eng, 
        yend = ind2_eng, group = ind1_eng, color = I(color)),
    linewidth = 1.2,
    lineend = 'round', linejoin = 'round',
    arrow = arrow(length = unit(0.1, "inches"))
  ) +
  geom_point(aes(x = begining, y = ind2_eng, color = I("#f95d6a")), size = 3) +
  geom_point(aes(x = end, y = ind2_eng, color = I("#2f4b7c")), size = 3) +
  geom_point(data = date_legend, aes(x + 400, y, color = I(color)), size = 3) +
  geom_text(data = date_legend, aes(x + 480, y, label = text)) +
  scale_x_log10(breaks = seq(0, 800, 100), limits =c(100, 800)) +
  scale_y_discrete() +
  labs(
    x = NULL,
    y = NULL,
    color = NULL,
    # title = "’Ñ’´’ª’´’∂ ’°’¥’Ω’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’® ’®’Ω’ø ’ø’∂’ø’•’Ω’°’Ø’°’∂ ’£’∏÷Ä’Æ’∏÷Ç’∂’•’∏÷Ç’©’µ’°’∂",
    # subtitle = "’Ü’•÷Ä’Ø’°’µ’°÷Å’æ’°’Æ ’•’∂ ’´÷Ä’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’•÷Ä’®, 2022 ’©’æ’°’Ø’°’∂’´ 8.3 ’ø’∏’Ø’∏’Ω ’£’∂’°’≥’∏’æ ’≥’∑’£÷Ä’ø’æ’°’Æ\n’°’∂’æ’°’∂’°’Ø’°’∂, ’∞’°’¶’°÷Ä ’Ä’Ä ’§÷Ä’°’¥",
    # caption = paste0(caption_arm, "    |    ’ø’æ’µ’°’¨’∂’•÷Ä’´ ’°’≤’¢’µ’∏÷Ç÷Ä` armstat.am")
    title = "Average Monthly Salary by Economic Activity",
    subtitle = "Real nominal salaries, thousand AMD, 2021 is adjusted by 8.3% inflation in 2022",
    caption = paste0(caption_eng, "    |    Data Source: armstat.am")
  )

```

```{r plot 4, include=FALSE, warning=FALSE}
wages_clean |> 
  filter(grepl("’®’Ω’ø ’Ø’°’¶’¥’°’Ø’•÷Ä’∫’∏÷Ç’©’µ’°’∂ ’π’°÷É’´", indicator_arm)) |>
  mutate(
    ind1_arm = case_when(
      grepl("’∏’π ’∫’•’ø’°’Ø’°’∂", ind1_arm) ~ "’∏’π ’∫’•’ø’°’Ø’°’∂",
      grepl("’∫’•’ø’°’Ø’°’∂", ind1_arm) ~ "’∫’•’ø’°’Ø’°’∂",
      TRUE ~ "’®’∂’§’∞’°’∂’∏÷Ç÷Ä"
    ),
    ind1_arm = fct_reorder(ind1_arm, wages_real, .desc = TRUE),
    ind2_arm = str_remove(ind2_arm, "’∏÷Ç’¥$")
  ) |> 
  ggplot(aes(year, wages_real / 1000, color = ind1_arm)) +
  geom_line(linewidth = 1.5) +
  facet_wrap(~ind2_arm, scale = "free_y") +
  scale_x_continuous(breaks = seq(2008, 2030, 2)) +
  scale_color_manual(values = new_palette_colors[c(2,6,8)]) +
  labs(
    x = NULL,
    y = NULL,
    color = NULL,
    title = "’Ñ’´’ª’´’∂ ’°’¥’Ω’°’Ø’°’∂ ’°’∂’æ’°’∂’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’® ’®’Ω’ø ’Ø’°’¶’¥’°’Ø’•÷Ä’∫’∏÷Ç’©’µ’°’∂ ’π’°÷É’´",
    subtitle = "’Ü’•÷Ä’Ø’°’µ’°÷Å’æ’°’Æ ’•’∂ ’´÷Ä’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’•÷Ä’®, 2022 ’©’æ’°’Ø’°’∂’´ 8.3 ’ø’∏’Ø’∏’Ω ’£’∂’°’≥’∏’æ ’≥’∑’£÷Ä’ø’æ’°’Æ\n’∞’°’¶’°÷Ä ’Ä’Ä ’§÷Ä’°’¥",
    caption = paste0(caption_arm, "    |    ’ø’æ’µ’°’¨’∂’•÷Ä’´ ’°’≤’¢’µ’∏÷Ç÷Ä` armstat.am")
  )


wages_clean |> 
  filter(
    grepl("’Ä’Ä ’®’∂’§’∞’°’∂’∏÷Ç÷Ä|’®’Ω’ø ’Ω’•’º’´", indicator_arm),
    !grepl( "’∂’æ’°’¶’°’£’∏÷Ç’µ’∂", indicator_arm)
  ) |> 
  mutate(
    indicator_arm = ifelse(is.na(ind1_arm), indicator_arm, ind2_arm),
    indicator_arm = fct_reorder(indicator_arm, wages_real, .desc = TRUE),
  ) |> 
  ggplot(aes(year, wages_real / 1000, color = indicator_arm)) +
  geom_line(linewidth = 1.5) +
  scale_x_continuous(breaks = seq(2008, 2030, 2)) +
  scale_color_manual(values = new_palette_colors[c(2,6,8)]) +
  labs(
    x = NULL,
    y = NULL,
    color = NULL,
    title = "’Ñ’´’ª’´’∂ ’°’¥’Ω’°’Ø’°’∂ ’°’∂’æ’°’∂’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’® ’®’Ω’ø ’Ω’•’º’´",
    subtitle = "’Ü’•÷Ä’Ø’°’µ’°÷Å’æ’°’Æ ’•’∂ ’´÷Ä’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’•÷Ä’®, 2022 ’©’æ’°’Ø’°’∂’´ 8.3 ’ø’∏’Ø’∏’Ω ’£’∂’°’≥’∏’æ ’≥’∑’£÷Ä’ø’æ’°’Æ\n’∞’°’¶’°÷Ä ’Ä’Ä ’§÷Ä’°’¥",
    caption = paste0(caption_arm, "    |    ’ø’æ’µ’°’¨’∂’•÷Ä’´ ’°’≤’¢’µ’∏÷Ç÷Ä` armstat.am")
  )
```


```{r, include=FALSE}

pie_chart <- 
  workers_n |> 
  filter(year == max(year)) |>
  # filter(year %in% c(2019, 2022)) |>
  group_by(type, year) |> 
  mutate(
    workers_pct = workers_n / sum(workers_n),
    workers_pct_txt = percent(workers_pct, accuracy = 0.1),
    workers_pct_txt = ifelse(workers_pct >= 0.025, workers_pct_txt, NA),
    marz_arm = fct_reorder(marz_arm, workers_pct, .desc = TRUE),
    type = case_match(
      type,
      "non_public" ~ "’à’π ’∫’•’ø’°’Ø’°’∂",
      "public" ~ "’ä’•’ø’°’Ø’°’∂",
      "total" ~ "‘∏’∂’§’°’¥’•’∂’®"
    )
  ) |> 
  ggplot(aes(y = "1", x = workers_pct, fill = marz_arm, label = workers_pct_txt)) +
  geom_col() +
  geom_text(aes(y = 1.25), position = position_stack(vjust = .5)) +
  facet_grid(year~type, switch = "y") +
  coord_polar() +
  # ggthemes::scale_fill_stata() +
  scale_fill_manual(values = colfunc3(11)) +
  labs(
    x = NULL,
    y = NULL,
    fill = NULL,
    title = "‘±’∑’≠’°’ø’∏’≤’∂’•÷Ä’® ’®’Ω’ø ’¥’°÷Ä’¶’•÷Ä’´",
    subtitle = "’à’π ’∫’•’ø’°’Ø’°’∂ ÷á ’∫’•’ø’°’Ø’°’∂ ’°’∑’≠’°’ø’°’ø’•’≤’•÷Ä‚Ä§‚Ä§‚Ä§",
    caption = paste0(caption_arm, "   |   source:armstat.am")
  ) +
  theme(
    panel.grid.major.x = element_blank(),
    panel.grid.major.y = element_blank(),
    axis.text = element_blank()
  )

public_to_non_public_plot 
workers_n |> 
  select(-mean_wage) |> 
  pivot_wider(names_from = type, values_from = workers_n) |> 
  mutate(
    non_public_to_public = non_public / public,
    non_public_to_public_txt = number(non_public_to_public, accuracy = 0.01),
    text_possition = ifelse(
      non_public_to_public > 1,
      non_public_to_public * 1.1,
      non_public_to_public / 1.1
    )
  ) |> 
  arrange(non_public_to_public) |> 
  filter(year == 2022) |> 
  mutate(
    marz_arm = fct_inorder(marz_arm),
    marz_eng = fct_inorder(marz_eng), 
  ) |> 
  ggplot(aes(non_public_to_public, marz_arm,
             fill = marz_arm, label = non_public_to_public_txt)) +
  geom_col() +
  geom_text(aes(x = text_possition)) +
  scale_x_log10() +
  geom_vline(xintercept = 1) +
  scale_fill_manual(values = colfunc2(11)) +
  labs(
    x = NULL,
    y = NULL,
    title = "’à’π ’∫’•’ø’°’Ø’°’∂ ÷á ’∫’•’ø’°’Ø’°’∂ ’°’∑’≠’°’ø’°’ø’•’≤’•÷Ä’´ ’∞’°÷Ä’°’¢’•÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’®",
    subtitle = "2022’©‚Ä§, ’®’Ω’ø ’¥’°÷Ä’¶’•÷Ä’´, ’¨’∏’£’°÷Ä’´’©’¥’´’Ø ’°’º’°’∂÷Å÷Ñ",
    caption = paste0(caption_arm, "   |   source:armstat.am")
  ) +
  theme(
    panel.grid.major.y = element_blank(),
    axis.text.x = element_blank(),
    legend.position = "none"
  )
```


***English summary below.***

’Ä’°÷Ä’£’•’¨’´ ’£’∏÷Ä’Æ’®’∂’Ø’•÷Ä,

’Ä’∏÷Ç’Ω’∏’æ ’•’¥ ’¨’°’æ ’•÷Ñ:
’Ü’•÷Ä’Ø’°’µ’°÷Å’∂’∏÷Ç’¥ ’•’¥ ’°’µ’Ω ’∑’°’¢’°’©’æ’° ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’® ÷á ’°’∑’≠’°’ø’°’∂÷Ñ’∂’•÷Ä’®.

1. üçáüöÄ 
2. English summary


## 1. 

[‘±’á‘Ω‘±’è‘±’é‘±’ê’Å ‘µ’é ‘±’á‘Ω‘±’è’à’Ç’Ü‘µ’ê‘ª ‘π’é‘±’î‘±’Ü‘±‘ø -  2020-2022](https://www.armstat.am/file/article/lab_market_2023_14.pdf)

’ù’ù’ù
’≠’∏’Ω’°’¨ ’¥’´’ª’´’∂’´ ’∏÷Ç ’¥’•’§’´’°’∂’´ ’ø’°÷Ä’¢’•÷Ä’∏÷Ç’©’µ’°’∂ ’¥’°’Ω’´’∂ ÷á ’©’• ’´’∂’π’∏÷Ç ’ß ’¥’•’§’´’°’∂’® ’•÷Ä’¢’•’¥’∂ ’°’æ’•’¨’´ ’Ø’°÷Ä÷á’∏÷Ä ’°’∑’≠’°’ø’°’æ’°÷Ä’±’•÷Ä’´ ’§’´’ø’°÷Ä’Ø’¥’°’∂ ’∞’°’¥’°÷Ä, ÷Ñ’°’∂’´ ’∏÷Ä ’∞’°÷Ä’∏÷Ç’Ω’ø’∂’•÷Ä’® ’Ø’°÷Ä’∏’≤ ’•’∂ ’∞’°÷Ä’Ω’ø’°’∂’°’¨, ’´’Ω’Ø ’¥’´’ª’´’∂ ’≠’°’æ’® ’∂’∏÷Ç’µ’∂’® ’¥’∂’°’Ω’¨÷â
’ù’ù’ù


’®’∂’§’°’∂’∏÷Ç÷Ä’ù 684783 ’¥’°÷Ä’§ ’°’∑’≠’°’ø’∏’≤ 2022

’ä’•’ø’°’Ø’°’∂ ’∏’¨’∏÷Ä’ø’´ ’´÷Ä’°’Ø’°’∂ ’¥’´’ª’´’∂ ’°’∑’≠’°’ø’°’æ’°’±’•÷Ä’® ’∂’æ’°’¶’•’¨ ’•’∂ ’¢’∏’¨’∏÷Ä ’¥’°÷Ä’¶’•÷Ä’∏÷Ç’¥ 2022 ’©’æ’°’Ø’°’∂’´’∂÷â ’Ü’∑’•’∂÷Ñ ’∏÷Ä 2022 ’©’æ’°’Ø’°’∂’´’∂ ’∫’•’ø’°’Ø’°’∂ ’∏’¨’∏÷Ä’ø’∏÷Ç’¥ ’°’∑’≠’°’ø’∏÷Ç’¥ ’ß ’®’∂’§’°’∂’∏÷Ç÷Ä ’°’∑’≠’°’ø’∏’≤’∂’•÷Ä’´ 30 ’ø’∏’Ø’∏’Ω’®÷â ‘±’µ’Ω ’∏’¨’∏÷Ä’ø’´ ’¥’´’ª’´’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’® 2022 ’©’æ’°’Ø’°’∂’•’∂ ’Ø’°’¶’¥’∏÷Ç’¥ ’ß÷Ä 186940 ’§÷Ä’°’¥ ’´’Ω’Ø 2021-’´’∂’ù 179174 ’§÷Ä’°’¥, ’°’∂’æ’°’∂’°’Ø’°’∂ ’°’≥’®’ù 4.3 ’ø’∏’Ø’∏’Ω, ’£’∂’°’≥’®’ù 8.3 ’ø’∏’Ø’∏’Ω, ’´÷Ä’°’Ø’°’∂ ’°’≥’®’ù -4 ’ø’∏’Ø’∏’Ω ’°’∂’Ø’∏÷Ç’¥÷â


**‘±’≤’µ’∏÷Ç’Ω’°’Ø 1.** 

```{r, echo=FALSE, warning=FALSE, fig.width = 12, fig.height = 8}
wages_change_2021_22_plot
```


2022 ’©’æ’°’Ø’°’∂’´’∂ ’è’•’≤’•’Ø’°’ø’æ’∏÷Ç’©’µ’∏÷Ç’∂ ÷á ’Ø’°’∫ ’∏’¨’∏÷Ä’ø’∏÷Ç’¥ ’°’∑’≠’°’ø’•’¨ ’ß 40301 ’¥’°÷Ä’§, ’∏÷Ä’® ’Ø’°’¶’¥’•’¨ ’ß ’®’∂’§’∞’°’∂’∏÷Ç÷Ä ’°’∑’≠’°’ø’°’ø’•’≤’•÷Ä’´ 5.9 ’ø’∏’Ø’∏’Ω’®, ’°’µ’Ω ’∏’¨’∏÷Ä’ø’® ’Ω’ø’°’∂’∏÷Ç’¥ ’ß ’°’¥’•’∂’°’¢’°÷Ä’±÷Ä ’¥’´’ª’´’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’®’ù	748235÷â ’Ü’∑’•’∂÷Ñ ’∏÷Ä ’°’µ’Ω ’∏’¨’∏÷Ä’ø’´ 71.1 ’ø’∏’Ø’∏’Ω’® 2022 ’©’æ’°’Ø’°’∂’´’∂ ’Ø’°’¶’¥’•’¨ ’ß ’è’è ’∏’¨’∏÷Ä’ø’® (28668 ’¥’°÷Ä’§)÷â ’è’è ’∏’¨’∏÷Ä’ø’´ ’¥’´’ª’´’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’® ’•’≤’•’¨ 917192 ’§÷Ä’°’¥÷â ‘µ’©’• ’∞’°’∂’•’∂÷Ñ ’è’è ’∏’¨’∏÷Ä’ø’® ’è’•’≤’•’Ø’°’ø’æ’∏÷Ç’©’µ’∏÷Ç’∂ ÷á ’Ø’°’∫’´÷Å ÷á ’§’´’ø’°÷Ä’Ø’•’∂÷Ñ ’¥’´’°’µ’∂ ’Ø’°’∫’® ’°’∫’° ’¥’´’ª’´’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’® ’Ø’°’∫’∏÷Ç’¥ ’¨’´’∂’•’¨’∏÷Ç ’ß 331863 ’§÷Ä’°’¥÷â

’Ñ’°÷Ä’§’Ø’°’∂÷Å ’©’æ’°÷Ñ’°’∂’°’Ø’∏’æ ’°’¥’•’∂’°’¥’•’Æ ’∏’¨’∏÷Ä’ø’® ’¥’´’∂’π÷á 2021 ’©’´’æ’® ’Ø÷Ä’©’∏÷Ç’∏÷Ç’∂’∂ ’ß÷Ä, ’°’µ’Ω’ø’•’≤ ’ß ’°’∑’≠’°’ø’∏÷Ç’¥ 116445 ’¥’°÷Ä’§, ’Ø’°’¥ ’°’∑’≠’°’ø’∏’≤’∂’•÷Ä’´ 17 ’ø’∏’Ø’∏’Ω’®÷â 2022 ’©’æ’°’Ø’°’∂’´’∂ ’°’º’°’ª’´’∂’® ’®’Ω’ø ’°’∑’≠’°’ø’∏’≤’∂’•÷Ä’´ ’©’æ’°÷Ñ’°’∂’°’Ø’´ ’§’°÷Ä’±’°’æ ’Ñ’•’Æ’°’Æ’°’≠ ÷á ’¥’°’∂÷Ä’°’Æ’°’≠ ’°’º÷á’ø’∏÷Ç÷Ä, ’°’æ’ø’∏’¥’•÷Ñ’•’∂’°’∂’•÷Ä’´ ÷á ’¥’∏’ø’∏÷Å’´’Ø’¨’∂’•÷Ä’´ ’∂’∏÷Ä’∏’£’∏÷Ç’¥, ’∏÷Ä’ø’•’≤ 2022 ’°’∑’≠’°’ø’∏÷Ç’¥ ’ß’´’∂ 121953 ’¥’°÷Ä’§ ’Ø’°’¥ 17.8 ’ø’∏’Ø’∏’Ω’®÷â

‘ø÷Ä’©’∏÷Ç’©’µ’∏÷Ç’∂’® ’°’¥’•’∂’°’≠’°’∑’∏÷Ä ’∏’¨’∏÷Ä’ø’® ’¨’´’∂’•’¨’∏’æ ’∏÷Ç ’∑’°’ø ’Ø’°÷Ä÷á’∏÷Ä ’∏’¨’∏÷Ä’ø ’¨’´’∂’•’¨’∏’æ ’Ñ’´’ª’´’∂ ’°’¥’Ω’°’Ø’°’∂ ’°’∂’æ’°’∂’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’∂ (’∞’°÷Ä’Ø’•÷Ä’∏’æ) ’∫’•’ø’°’Ø’°’∂ ’∏’¨’∏÷Ä’ø’∏÷Ç’¥ 2022 ’© ’Ø’°’¶’¥’•’¨ ’ß ’®’∂’§’°’¥’•’∂’® 132756 ’§÷Ä’°’¥, 2021 ’©’ù 128518 ’§÷Ä’°’¥÷â ‘µ’©’• ’∞’°’∑’æ’´ ’°’º’∂’•’∂÷Ñ ’∏÷Ä 2022 ’©’æ’°’Ø’°’∂’´ ’£’∂’°’≥’® ’Ø’°’¶’¥’•’¨ ’ß 8‚Ä§3 ’ø’∏’Ø’∏’Ω, ’´’Ω’Ø ’∫’•’ø’°’Ø’°’∂ ’∏’¨’∏÷Ä’ø’´ ’Ø÷Ä’©’∏÷Ç’©’µ’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’•÷Ä’® ’°’≥’•’¨ ’•’∂ 3.3 ’ø’∏’Ø’∏’Ω’∏’æ, ’°’∫’° ’´÷Ä’°’Ø’°’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±÷á ’°’µ’Ω ’∏’¨’∏÷Ä’ø’∏÷Ç’¥ ’´’ª’•’¨ ’ß 5 ’ø’∏’Ø’∏’Ω’∏’æ÷â

’ñ’´’∂’°’∂’Ω’°’Ø’°’∂ ÷á ’°’∫’°’∞’∏’æ’°’£÷Ä’°’Ø’°’∂ ’£’∏÷Ä’Æ’∏÷Ç’∂’•’∏÷Ç’©’µ’∏÷Ç’∂ ’°’∑’≠’°’ø’∏÷Ç’¥ ’ß 21449 ’¥’∏÷Ä’§÷â ‘±’µ’Ω ’∏’¨’∏÷Ä’ø’´ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’•÷Ä’® ’∂’∏÷Ç’µ’∂’∫’•’Ω ’∏÷Ç’∂’•’∂ ’º’•’Ø’∏÷Ä’§’°’µ’´’∂ ’°’≥÷â


2019 ’©’æ’°’Ø’°’∂’´’∂ ’°’∑’≠’°’ø’ø’•’≤’•÷Ä’´ 65.9 ’ø’∏’Ø’∏’Ω’® ’•÷Ä÷á’°’∂’∏÷Ç’¥ ’ß÷Ä 2022-’´’∂ ’°÷Ä’§’•’∂’ù 68.8 ’ø’∏’Ø’∏’Ω’®÷â ’Ä’´’¥’∂’°’Ø’°’∂’∏÷Ç’¥ ’∂’∏÷Ä ’°’∑’≠’°’ø’°’ø’•’≤’•÷Ä’® ’°’º’°’ª’°’∂’∏÷Ç’¥ ’•’∂ ’•÷Ä÷á’°’∂’∏÷Ç’¥÷â

3 ’ø’°÷Ä’∏÷Ç’¥’ù 
’¥’°÷Ä’¶’•÷Ä 203929 213518 4.7 ’ø’∏’Ø’∏’Ω ’°’≥, ’∏’π ’∫’•’ø’°’Ø’°’∂` 7.2 ’ø’∏’Ø’∏’Ω ’°’≥÷â
’Ñ’°÷Ä’¶’•÷Ä’´÷Å ’°’¥’•’∂’°’æ’°’ø’® ’°’µ’Ω 3 ’ø’°÷Ä’∏÷Ç’¥ ‘º’∏’º’´’∏÷Ç’¥ ’ß 2.5 ’ø’∏’Ø’∏’Ω ’°’≥ 3 ’ø’°÷Ä’æ’° ’¥’•’ª÷â

‘µ÷Ä÷á’°’∂ 394308 471265 19.5 ’ø’∏’Ø’∏’Ω ’°’≥, ’∏’π ’∫’•’ø’°’Ø’°’∂ 24.5 ’ø’∏’Ø’∏’Ω ’°’≥

‘ª ’§’•’∫ ’∫’•’ø’°’Ø’°’∂ ’£’∏÷Ä’Æ’® ’°’¥’•’∂’°’∑’°’ø’® ’°’≥’•’¨ ’ß ‘±÷Ä’°÷Ä’°’ø’´ ’¥’°÷Ä’¶’∏÷Ç’¥ 10310 ’°’∑’≠’°’ø’∏’≤’´÷Å’ù 10975 ’°’∑’≠’°’ø’∏’≤ 6.4 ’ø’∏’Ø’∏’Ω ’°’≥, ’∞’•’ø’∏ ’∂’∏÷Ä
‘µ÷Ä÷á’°’∂’∏÷Ç’¥ 101 744 ’°’∑’≠’°’ø’∏’≤’´÷Å 107 039 ’°’∑’≠’°’ø’∏’≤’ù 5.2 ’ø’∏’Ø’∏’Ω ’°’≥÷â






**‘≥’Æ’°’∫’°’ø’Ø’•÷Ä 2.** 

```{r, echo=FALSE, warning=FALSE, fig.width = 12, fig.height = 8}
wages_by_sector
```



**‘≥’Æ’°’∫’°’ø’Ø’•÷Ä 3.** 

```{r, echo=FALSE, warning=FALSE, fig.width = 12, fig.height = 8}
public_to_non_public_plot
```

>
>’Ü’∑’•’∂÷Ñ ’∏÷Ä ’°’µ’Ω ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’∏÷Ç’∂’® ’ø’∂’ø’°’µ’´’∂ ’ø’∂’ø’•’Ω’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’°’∂ 3-÷Ä’§ ’¥’°’Ω’´’∂ ’ß÷â
>
>’Ü’°’≠’∏÷Ä’§ ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’® ’Ø’°÷Ä’§’°÷Å’•÷Ñ ’°’µ’Ω’ø’•’≤‚Ä§
>
>1. [üè†üí∞üìâ ’è’∂’°’µ’´’∂ ’ø’∂’ø’•’Ω’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’® ’°’≤÷Ñ’°’ø’°÷Å’•’¨ ’•’∂](https://www.tvyal.com/newsletter/2024/2024_01_07)
>2. [üë®‚Äçüë©‚Äçüëß‚Äçüë¶‚ú® ‘±’¥’∏÷Ç÷Ä ’®’∂’ø’°’∂’´÷Ñ‚Ä§ ’∞’°÷Ä’∏÷Ç’Ω’ø ’®’∂’ø’°’∂’´÷Ñ](hhttps://www.tvyal.com/newsletter/2024/2024_01_26)
>



**‘≥’Æ’°’∫’°’ø’Ø’•÷Ä 4.** 

```{r, echo=FALSE, warning=FALSE, fig.width = 12, fig.height = 8}
pie_chart
```



## 2. English Summary

**üçáüöÄ **







---

‘±’µ’Ω ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’∏÷Ç’∂’® ’°’º’Ø’° ’ß ’∂’°÷á [’¥’•÷Ä ’Ø’°’µ÷Ñ’ß’ª’∏÷Ç’¥](https://www.tvyal.com/newsletter/2024/2024_02_09), ’°’µ’Ω ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’°’∂ ’Ø’∏’§’® ÷á ’ø’æ’µ’°’¨’∂’•÷Ä’® ’§÷Ä’æ’°’Æ ’•’∂ ’∂’°÷á [Github-’∏÷Ç’¥](https://github.com/tavad/tvyal_newsletter)÷â                        
---                  

‘µ’©’• ’∞’∂’°÷Ä’°’æ’∏÷Ä ’ß, ’≠’∂’§÷Ä’∏÷Ç’¥ ’•’¥ ’°’µ’Ω ’∂’µ’∏÷Ç’©’® ’∏÷Ç’≤’°÷Ä’Ø’•’¨ ’∂’°÷á ’°’µ’∂ ’¥’°÷Ä’§’Ø’°’∂÷Å, ’∏÷Ç’¥ ’°’µ’∂ ’Ø’°÷Ä’Æ’∏÷Ç’¥ ’•÷Ñ ’Ø’°÷Ä’∏’≤ ’ß ’∞’•’ø’°÷Ñ÷Ä÷Ñ÷Ä’•’¨:

’ç’∫’°’Ω’•÷Ñ ’∞’°’ª’∏÷Ä’§ ’∞’°’≤’∏÷Ä’§’°’£÷Ä’∏÷Ç’©’µ’°’∂’® ’∞’°’ª’∏÷Ä’§ ’∏÷Ç÷Ä’¢’°’© ÷Ö÷Ä’®:      


’Ä’°÷Ä’£’°’∂÷Ñ’∂’•÷Ä’∏’æ,            
‘±’≤’°’Ω’´ ‘π’°’æ’°’§’µ’°’∂         
09.02.2024          
[tvyal.com](https://www.tvyal.com/)      
[tavadyan.com](https://www.tavadyan.com/)

---

[Was this email forwarded to you? Subscribe here.](https://www.tvyal.com/subscribe)

[‘≤’°’™’°’∂’∏÷Ä’§’°’£÷Ä’æ’•÷Ñ](https://www.tvyal.com/subscribe)

       
---              
               


####### **’à÷Ç’∑’°’§÷Ä’∏÷Ç’©’µ’∏÷Ç’∂. ’Å’•÷Ä ’ß’¨.÷É’∏’Ω’ø’® ’¥’•’µ’¨’´’Ω’©’´ ’¥’•’ª ’ß, ’∏÷Ä’´ ’¥’´’ª’∏÷Å’∏’æ ’•’Ω ’Ø’´’Ω’æ’∏÷Ç’¥ ’•’¥ ’∑’°’¢’°’©’°’Ø’°’∂ ’∂’µ’∏÷Ç’©’•÷Ä, ’∏÷Ä’∏’∂÷Ñ ’∞’´’¥’∂’°’Ø’°’∂’∏÷Ç’¥ ’∂’•÷Ä’Ø’°’µ’°÷Å’∂’∏÷Ç’¥ ’•’∂ ’Ä’°’µ’°’Ω’ø’°’∂’´ ’ø’∂’ø’•’Ω’∏÷Ç’©’µ’°’∂’®: ’Ü’µ’∏÷Ç’©’•÷Ä’® ’∂’•÷Ä’°’º’∏÷Ç’¥ ’•’∂ ’£’Æ’°’∫’°’ø’Ø’•÷Ä’∂’•÷Ä, [’ø’æ’µ’°’¨’∂’•÷Ä’´ ’¢’°’¶’°’∂’•÷Ä](https://github.com/tavad/tvyal_newsletter), ’ø’•’Ω’°’∂’µ’∏÷Ç’©’•÷Ä, ’∞’∏’§’æ’°’Æ’∂’•÷Ä, [’°’º÷Å’°’∂÷Å ’æ’°’∞’°’∂’°’Ø’∂’•÷Ä](https://www.tvyal.com/projects), ’ø’∂’ø’•’Ω’°’Ø’°’∂ ’£’∏÷Ä’Æ’´÷Ñ’∂’•÷Ä, ’Ø’°’∂’≠’°’ø’•’Ω’∏÷Ç’¥’∂’•÷Ä ÷á ’∞’°’∑’æ’•’ø’æ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä: ‘µ’©’• ÷Å’°’∂’Ø’°’∂’∏÷Ç’¥ ’•÷Ñ ’π’•’≤’°÷Ä’Ø’•’¨ ’¢’°’™’°’∂’∏÷Ä’§’°’£÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’®, ’≠’∂’§÷Ä’∏÷Ç’¥ ’•’¥ ’ø’•’≤’•’Ø’°÷Å÷Ä’•÷Ñ ’´’∂’±, ÷á ’•’Ω ’Ø’∞’•’º’°÷Å’∂’•’¥ ’±’•÷Ä ’ß’¨. ÷É’∏’Ω’ø’® ÷Å’∏÷Ç÷Å’°’Ø’´÷Å: ‘≥÷Ä’•÷Ñ ’∂’°÷á ’•’©’• ’∏÷Ç’∂’•÷Ñ ’¥’•’∂’Ø’∂’°’¢’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä:**

####### **Important! Your email is part of the mailing list where I share weekly materials primarily focused on the Armenian economy. These materials encompass charts, [databases](https://github.com/tavad/tvyal_newsletter), videos, articles, [online dashboards](https://www.tvyal.com/projects), economic tools, forecasts, and reports. If you wish to unsubscribe, please let me know, and I will remove your email from the list. Please share your comments as well‚Ä§**





